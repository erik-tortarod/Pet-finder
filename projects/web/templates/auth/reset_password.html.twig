{% extends 'base.html.twig' %}

{% block title %}Restablecer Contraseña
{% endblock %}

{% block body %}
	<style>
		.auth-container {
			max-width: 400px;
			margin: 2rem auto;
			padding: 2rem;
			background: white;
			border-radius: 10px;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}

		.auth-header {
			text-align: center;
			margin-bottom: 2rem;
		}

		.auth-header h1 {
			color: #333;
			margin-bottom: 0.5rem;
		}

		.auth-header p {
			color: #666;
		}

		.form-group {
			margin-bottom: 1rem;
		}

		.form-group label {
			display: block;
			margin-bottom: 0.5rem;
			color: #333;
			font-weight: 500;
		}

		.form-group input {
			width: 100%;
			padding: 0.75rem;
			border: 1px solid #ddd;
			border-radius: 5px;
			font-size: 1rem;
			transition: border-color 0.3s ease;
		}

		.form-group input:focus {
			outline: none;
			border-color: #667eea;
			box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
		}

		.btn {
			width: 100%;
			padding: 0.75rem;
			background: #667eea;
			color: white;
			border: none;
			border-radius: 5px;
			font-size: 1rem;
			font-weight: 500;
			cursor: pointer;
			transition: background 0.3s ease;
		}

		.btn:hover {
			background: #5a6fd8;
		}

		.auth-footer {
			text-align: center;
			margin-top: 1.5rem;
			padding-top: 1rem;
			border-top: 1px solid #e0e0e0;
		}

		.auth-footer a {
			color: #667eea;
			text-decoration: none;
		}

		.auth-footer a:hover {
			text-decoration: underline;
		}

		.flash-messages {
			margin-bottom: 1rem;
		}

		.alert {
			padding: 1rem;
			margin-bottom: 1rem;
			border-radius: 5px;
		}

		.alert-success {
			background: #d4edda;
			color: #155724;
			border: 1px solid #c3e6cb;
		}

		.alert-error {
			background: #f8d7da;
			color: #721c24;
			border: 1px solid #f5c6cb;
		}

		.info-box {
			background: #e7f3ff;
			border: 1px solid #b3d9ff;
			color: #0066cc;
			padding: 1rem;
			border-radius: 5px;
			margin-bottom: 1.5rem;
		}

		.password-requirements {
			background: #f8f9fa;
			border: 1px solid #dee2e6;
			padding: 1rem;
			border-radius: 5px;
			margin-bottom: 1.5rem;
			font-size: 0.875rem;
		}

		.password-requirements h4 {
			margin: 0 0 0.5rem;
			color: #495057;
		}

		.password-requirements ul {
			margin: 0;
			padding-left: 1.5rem;
			color: #6c757d;
		}
	</style>

	<div class="auth-container">
		<div class="auth-header">
			<h1>Restablecer Contraseña</h1>
			<p>Crea una nueva contraseña para tu cuenta</p>
		</div>

		{# Flash Messages #}
		<div class="flash-messages">
			{% for message in app.flashes('success') %}
				<div class="alert alert-success">
					{{ message }}
				</div>
			{% endfor %}

			{% for message in app.flashes('error') %}
				<div class="alert alert-error">
					{{ message }}
				</div>
			{% endfor %}
		</div>

		<div class="info-box">
			<strong>Enlace válido</strong><br>
			Tu enlace de restablecimiento es válido. Por favor, crea una nueva contraseña segura.
		</div>

		<div class="password-requirements">
			<h4>Requisitos de la contraseña:</h4>
			<ul>
				<li>Mínimo 6 caracteres</li>
				<li>Se recomienda usar letras, números y símbolos</li>
				<li>No uses información personal fácil de adivinar</li>
			</ul>
		</div>

		<form action="{{ path('app_auth_reset_password', {'token': token}) }}" method="post">
			<div class="form-group">
				<label for="password">Nueva Contraseña</label>
				<input type="password" name="password" id="password" placeholder="Tu nueva contraseña" required>
			</div>

			<div class="form-group">
				<label for="confirm_password">Confirmar Contraseña</label>
				<input type="password" name="confirm_password" id="confirm_password" placeholder="Confirma tu nueva contraseña" required>
			</div>

			<button type="submit" class="btn">Restablecer Contraseña</button>
		</form>

		<div class="auth-footer">
			<p>¿Recordaste tu contraseña?
				<a href="{{ path('app_auth_login') }}">Iniciar Sesión</a>
			</p>
		</div>
	</div>
{% endblock %}
